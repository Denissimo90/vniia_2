{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\source\\\\one-nwc-debug\\\\WebApplication1\\\\Project1\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { MessageService } from 'primeng/api';\nimport { ManufactureService } from '../../../../service/ManufactureService';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../service/ManufactureService\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"primeng/dialog\";\n\nconst _c0 = function () {\n  return {\n    width: \"500px\",\n    height: \"800px\"\n  };\n};\n\nexport let ManufactureRegistrationComponent = /*#__PURE__*/(() => {\n  class ManufactureRegistrationComponent {\n    constructor(manufactureService, messageService) {\n      this.manufactureService = manufactureService;\n      this.messageService = messageService;\n      this.loading = false;\n      this._visible = false;\n      this.result = new EventEmitter();\n      this.hide = new EventEmitter();\n    }\n\n    get visible() {\n      return this._visible;\n    }\n\n    set visible(value) {\n      if (value) {} else {\n        this.hide.emit();\n      }\n\n      this._visible = value;\n    }\n\n    ngOnInit() {}\n\n    saveManufacture() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.loading = true;\n\n        try {\n          yield _this.manufactureService.createManufacture(_this.manufacture);\n\n          _this.messageService.add({\n            severity: 'success',\n            summary: 'Выполнено',\n            detail: 'Предприятие сохранёно'\n          });\n\n          _this.result.emit(_this.manufacture);\n\n          _this.visible = false;\n        } finally {\n          _this.loading = false;\n        }\n      })();\n    }\n\n  }\n\n  ManufactureRegistrationComponent.ɵfac = function ManufactureRegistrationComponent_Factory(t) {\n    return new (t || ManufactureRegistrationComponent)(i0.ɵɵdirectiveInject(i1.ManufactureService), i0.ɵɵdirectiveInject(i2.MessageService));\n  };\n\n  ManufactureRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ManufactureRegistrationComponent,\n    selectors: [[\"app-manufacture-registration\"]],\n    inputs: {\n      _visible: \"_visible\",\n      userId: \"userId\",\n      editMode: \"editMode\"\n    },\n    outputs: {\n      result: \"result\",\n      hide: \"hide\"\n    },\n    features: [i0.ɵɵProvidersFeature([ManufactureService, MessageService])],\n    decls: 1,\n    vars: 6,\n    consts: [[3, \"header\", \"modal\", \"visible\", \"visibleChange\"]],\n    template: function ManufactureRegistrationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p-dialog\", 0);\n        i0.ɵɵlistener(\"visibleChange\", function ManufactureRegistrationComponent_Template_p_dialog_visibleChange_0_listener($event) {\n          return ctx.visible = $event;\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c0));\n        i0.ɵɵproperty(\"header\", \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0440\\u0435\\u0434\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F\")(\"modal\", true)(\"visible\", ctx.visible);\n      }\n    },\n    directives: [i3.Dialog],\n    styles: [\"\"]\n  });\n  return ManufactureRegistrationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}